<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Cancel_ongoing_transaction</name>
        <label>Cancel ongoing transaction</label>
        <locationX>5857</locationX>
        <locationY>674</locationY>
        <actionName>universign_cancelTransaction</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Is_cancel_a_success</targetReference>
        </connector>
        <flowTransactionModel>Automatic</flowTransactionModel>
        <inputParameters>
            <name>universignTransaction</name>
            <value>
                <elementReference>Get_current_univrersign_transaction_if_any</elementReference>
            </value>
        </inputParameters>
        <nameSegment>universign_cancelTransaction</nameSegment>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <actionCalls>
        <name>GenerateSignaturePageAction</name>
        <label>Generate signature page</label>
        <locationX>2731</locationX>
        <locationY>4340</locationY>
        <actionName>CLM_generateDoc</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Is_generate_doc_success</targetReference>
        </connector>
        <flowTransactionModel>NewTransaction</flowTransactionModel>
        <inputParameters>
            <name>agreementId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>docFormat</name>
            <value>
                <stringValue>PDF</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>templateName</name>
            <value>
                <stringValue>Universign Last Page</stringValue>
            </value>
        </inputParameters>
        <nameSegment>CLM_generateDoc</nameSegment>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <actionCalls>
        <name>mergeDocs</name>
        <label>Merge docs ü™Ñ</label>
        <locationX>1799</locationX>
        <locationY>5288</locationY>
        <actionName>CLM_mergeDocs</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Is_merge_success</targetReference>
        </connector>
        <dataTypeMappings>
            <typeName>T__contentVersionsToMerge</typeName>
            <typeValue>ContentVersion</typeValue>
        </dataTypeMappings>
        <flowTransactionModel>NewTransaction</flowTransactionModel>
        <inputParameters>
            <name>contentVersionsToMerge</name>
            <value>
                <elementReference>contentVersionsToMerge</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>docFileName</name>
            <value>
                <elementReference>selectedContentVersion.PathOnClient</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>parentId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputParameters>
        <nameSegment>CLM_mergeDocs</nameSegment>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <actionCalls>
        <name>Send_Universign_transaction</name>
        <label>Send Universign transaction</label>
        <locationX>446</locationX>
        <locationY>6260</locationY>
        <actionName>universign_sendTransaction</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Is_Callout_Success</targetReference>
        </connector>
        <dataTypeMappings>
            <typeName>T__signatories</typeName>
            <typeValue>Universign_signer__c</typeValue>
        </dataTypeMappings>
        <dataTypeMappings>
            <typeName>T__contentVersions</typeName>
            <typeValue>ContentVersion</typeValue>
        </dataTypeMappings>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </faultConnector>
        <flowTransactionModel>NewTransaction</flowTransactionModel>
        <inputParameters>
            <name>agreementType</name>
            <value>
                <elementReference>agreementRecordtype.DeveloperName</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>contentVersions</name>
            <value>
                <elementReference>finalContentVersions</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>countTotalPages</name>
            <value>
                <elementReference>TotalPageCount_Formula</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>signatories</name>
            <value>
                <elementReference>universignSigners</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>signaturePage</name>
            <value>
                <elementReference>TotalPageCount_Formula</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>universignTransaction</name>
            <value>
                <elementReference>UniversignTransaction</elementReference>
            </value>
        </inputParameters>
        <nameSegment>universign_sendTransaction</nameSegment>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <apiVersion>58.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>add_to_contentVersionsToMerge</name>
        <label>Add selected content to merge</label>
        <locationX>1799</locationX>
        <locationY>4772</locationY>
        <assignmentItems>
            <assignToReference>contentVersionsToMerge</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>selectedContentVersion</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_retrocession_or_cession</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Copy_1_of_add_to_contentVersionsToMerge</name>
        <label>add parent final doc to merge</label>
        <locationX>1667</locationX>
        <locationY>4988</locationY>
        <assignmentItems>
            <assignToReference>contentVersionsToMerge</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>parentAgreement_FinalContentVersion</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Copy_2_of_add_to_contentVersionsToMerge</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Copy_1_of_Count_document_selection</name>
        <label>Copy 1 of Count document selection</label>
        <locationX>5329</locationX>
        <locationY>1106</locationY>
        <assignmentItems>
            <assignToReference>CountDocumentSelection</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>contentVersions</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Screen1_DocumentsSelection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Copy_2_of_add_to_contentVersionsToMerge</name>
        <label>Add signature page to merge</label>
        <locationX>1799</locationX>
        <locationY>5180</locationY>
        <assignmentItems>
            <assignToReference>contentVersionsToMerge</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>get_generated_contentversion</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>mergeDocs</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Copy_2_of_Set_error_message</name>
        <label>Error message</label>
        <locationX>4538</locationX>
        <locationY>2486</locationY>
        <assignmentItems>
            <assignToReference>NoSignerFound_ErrMsg</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>‚õîÔ∏è We cannot proceed further because no signer(s) (Contact associated to this program with the &quot;Signer&quot; role) have been found. Please contact your administrator to add signatory contacts for the ceding companies related to this agreement</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Count_Signatory_Selection</name>
        <label>Count signer, observer Selection</label>
        <locationX>3718</locationX>
        <locationY>2702</locationY>
        <assignmentItems>
            <assignToReference>countSignatorySelection</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>sfpegSignerSelection.selectionList</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>countObserverSelections</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>sfpegObserversSelection.selectionList</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>countHeadSignerSelection</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>sfpegHeadSignersSelection.selectionList</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>signers_selected</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>CountDocumentSelectioon</name>
        <label>Count document selection</label>
        <locationX>5065</locationX>
        <locationY>1430</locationY>
        <assignmentItems>
            <assignToReference>CountDocumentSelection</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>ContentVersionSelections.selectionList</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Documents_selected</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Init_steps</name>
        <label>Initialize steps</label>
        <locationX>6385</locationX>
        <locationY>134</locationY>
        <assignmentItems>
            <assignToReference>flowSteps</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>FlowStep1_Name</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>flowSteps</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>FlowStep2_Name</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>flowSteps</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>FlowStep4_Name</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_current_univrersign_transaction_if_any</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Init_Universign_Transaction</name>
        <label>Init Universign Transaction</label>
        <locationX>3426</locationX>
        <locationY>2918</locationY>
        <assignmentItems>
            <assignToReference>UniversignTransaction.Profile__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>default</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>UniversignTransaction.mustContactFirstSigner__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>UniversignTransaction.finalDocSent__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>UniversignTransaction.finalDocRequesterSent__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>UniversignTransaction.Language__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>fr</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>UniversignTransaction.chainingMode__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>email</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>UniversignTransaction.description__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>UniversignTextDescription</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>UniversignTransaction.Agreement__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>agreementRecord.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>UniversignTransaction.CancelURL__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>https://Axa.com</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>UniversignTransaction.SuccessURL__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>https://Axa.com</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>UniversignTransaction.certificateType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>simple</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>UniversignTransaction.FailURL__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>https://Axa.com</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>UniversignTransaction.InvitationMessage__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Please sign document by: </stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Initialise_Universign_Signers</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Count_of_ParentDoc</name>
        <label>Set Count of ParentDoc</label>
        <locationX>2401</locationX>
        <locationY>3890</locationY>
        <assignmentItems>
            <assignToReference>parentDoc_NumberOfPages</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>countPdfPages_ParentDoc_LWC.pageCount</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_pageCount_on_agreement</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Err_Msg_CannotFindContentVersion</name>
        <label>Set Err Msg</label>
        <locationX>1898</locationX>
        <locationY>5720</locationY>
        <assignmentItems>
            <assignToReference>ScreenErrorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Cannot query the merged document (selected PDF + Signature page) </stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Err_Msg_CountPdf</name>
        <label>Set Err Msg</label>
        <locationX>2665</locationX>
        <locationY>3890</locationY>
        <assignmentItems>
            <assignToReference>ScreenErrorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>countPdfPages_ParentDoc_LWC.errMsg</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_errMsg</name>
        <label>Set errMsg</label>
        <locationX>5066</locationX>
        <locationY>2162</locationY>
        <assignmentItems>
            <assignToReference>ScreenErrorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>countPdfPages_LWC.errMsg</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_error_Message</name>
        <label>Set error Message</label>
        <locationX>3746</locationX>
        <locationY>3242</locationY>
        <assignmentItems>
            <assignToReference>ScreenErrorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>initSigner_ErrMsg</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_error_message_assignment</name>
        <label>Set error message</label>
        <locationX>5330</locationX>
        <locationY>1646</locationY>
        <assignmentItems>
            <assignToReference>DocumentsNotSelectedErrorMsg</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>No document has been selected on previous page. Please go back on it and select the version of document you want to send for signature.</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Error_message_callout</name>
        <label>Set Error message</label>
        <locationX>842</locationX>
        <locationY>6476</locationY>
        <assignmentItems>
            <assignToReference>ScreenErrorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Send_Universign_transaction.responseBody</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Error_message_GenDOc</name>
        <label>Set Error message</label>
        <locationX>3218</locationX>
        <locationY>4556</locationY>
        <assignmentItems>
            <assignToReference>ScreenErrorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Error generating the Signature page : {!GenerateSignaturePageAction.errMsg}</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_error_message_generatedPageNotFound</name>
        <label>Set error message</label>
        <locationX>2690</locationX>
        <locationY>4772</locationY>
        <assignmentItems>
            <assignToReference>ScreenErrorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Cannot find the document (contentversion) for the signature page üìú</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_error_message_mergedocs</name>
        <label>Set error message</label>
        <locationX>2426</locationX>
        <locationY>5504</locationY>
        <assignmentItems>
            <assignToReference>ScreenErrorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>mergeDocs.errMsg</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_error_screen</name>
        <label>Set error screen</label>
        <locationX>6122</locationX>
        <locationY>890</locationY>
        <assignmentItems>
            <assignToReference>ScreenErrorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Cancel_ongoing_transaction.errorMsg</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Invitation_Message</name>
        <label>Set Invitation Message</label>
        <locationX>446</locationX>
        <locationY>6152</locationY>
        <assignmentItems>
            <assignToReference>UniversignTransaction.InvitationMessage__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>InvitationMsgFormula</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Send_Universign_transaction</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_list_contentversions_to_display_in_Pegdisplay</name>
        <label>Set list contentversions to display in Pegdisplay</label>
        <locationX>446</locationX>
        <locationY>5936</locationY>
        <assignmentItems>
            <assignToReference>finalContentVersions</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Get_MergedDoc</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>ValidationScreen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_TransactionId</name>
        <label>Set TransactionId</label>
        <locationX>50</locationX>
        <locationY>6476</locationY>
        <assignmentItems>
            <assignToReference>UniversignTransaction.transactionId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Send_Universign_transaction.transactionId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>UniversignTransaction.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>ready</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_transaction</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>SetErrMsg_SignatorySelection</name>
        <label>Set error message</label>
        <locationX>4010</locationX>
        <locationY>2918</locationY>
        <assignmentItems>
            <assignToReference>SignatorySelectedErrMsg</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Please select at least 1 signer before going to the next screen</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Screen2_Signatories_Selection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>SetSelectedDocument</name>
        <label>Set selected document</label>
        <locationX>4888</locationX>
        <locationY>1754</locationY>
        <assignmentItems>
            <assignToReference>selectedContentVersion</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Documents_Selected</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Documents_Selected</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Clicked_Cancel</name>
        <label>Clicked Cancel ongoing transaction ?</label>
        <locationX>6121</locationX>
        <locationY>566</locationY>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES_Clicked_Cancel</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>universignFooterExistingTransac.selectedPrevious</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Cancel_ongoing_transaction</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Copy_1_of_Is_retrocession_or_cession</name>
        <label>Copy 1 of Is retrocession or cession ?</label>
        <locationX>2731</locationX>
        <locationY>3566</locationY>
        <defaultConnector>
            <targetReference>Set_pageCount_on_agreement</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>Copy_1_of_YES</name>
            <conditionLogic>(1 OR 2) AND 3</conditionLogic>
            <conditions>
                <leftValueReference>agreementRecordtype.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Retrocession</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>agreementRecordtype.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cession</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>parentAgreement_FinalContentVersion</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Count_Number_of_pages_in_doc</targetReference>
            </connector>
            <label>Copy 1 of YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Documents_selected</name>
        <label>Document(s) selected ?</label>
        <locationX>5065</locationX>
        <locationY>1538</locationY>
        <defaultConnector>
            <targetReference>Set_error_message_assignment</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO üòñ</defaultConnectorLabel>
        <rules>
            <name>YES_DocumentsSelected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>CountDocumentSelection</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_Documents_Selected</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>found_any</name>
        <label>found any existing (in progress) transaction ?</label>
        <locationX>6385</locationX>
        <locationY>350</locationY>
        <defaultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Get_Agreement_ContentVersions</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES_FOundUniversignTransaction</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_current_univrersign_transaction_if_any</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_current_univrersign_transaction_if_any.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ready</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Existing_transaction_screen</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>found_doc</name>
        <label>found signature page contentversion ?</label>
        <locationX>2244</locationX>
        <locationY>4664</locationY>
        <defaultConnector>
            <targetReference>Set_error_message_generatedPageNotFound</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES_FoundDoc_Signature_ContentVersion</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>get_generated_contentversion</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>add_to_contentVersionsToMerge</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Callout_Success</name>
        <label>Is Callout Success ?</label>
        <locationX>446</locationX>
        <locationY>6368</locationY>
        <defaultConnector>
            <targetReference>Set_Error_message_callout</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES_CalloutSuccess</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Send_Universign_transaction.isSuccess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_TransactionId</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_cancel_a_success</name>
        <label>Is cancel a success ?</label>
        <locationX>5857</locationX>
        <locationY>782</locationY>
        <defaultConnector>
            <targetReference>Set_error_screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES_Is_cancel_a_success</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Cancel_ongoing_transaction.isSuccess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Agreement_ContentVersions</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_count_success</name>
        <label>Is count success ?</label>
        <locationX>4800</locationX>
        <locationY>2054</locationY>
        <defaultConnector>
            <targetReference>Set_errMsg</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES_CountPageSuccess</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>countPdfPages_LWC.isSuccess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_HeadSigners_Signers_and_Observers</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_countParentDoc_success</name>
        <label>Is count success ?</label>
        <locationX>2533</locationX>
        <locationY>3782</locationY>
        <defaultConnector>
            <targetReference>Set_Err_Msg_CountPdf</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES_Is_countParentDoc_success</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>countPdfPages_ParentDoc_LWC.isSuccess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Count_of_ParentDoc</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_generate_doc_success</name>
        <label>Is generate doc success ?</label>
        <locationX>2731</locationX>
        <locationY>4448</locationY>
        <defaultConnector>
            <targetReference>Set_Error_message_GenDOc</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YESIs_generate_doc_success</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GenerateSignaturePageAction.isSuccess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>get_generated_contentversion</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_getting_signers_success</name>
        <label>Is getting signers success ?</label>
        <locationX>4534</locationX>
        <locationY>2270</locationY>
        <defaultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YESIs_getting_signers_success</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>isGetSignersSuccess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Signers_found</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_init_signers_agreement_datas_sucess</name>
        <label>Is init signers/agreement datas sucess ?</label>
        <locationX>3426</locationX>
        <locationY>3134</locationY>
        <defaultConnector>
            <targetReference>Set_error_Message</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES_Is_init_signers_agreement_datas_sucess</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>initsigner_isSuccess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>SignatureReorderScreen</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_merge_success</name>
        <label>Is merge success ?</label>
        <locationX>1799</locationX>
        <locationY>5396</locationY>
        <defaultConnector>
            <targetReference>Set_error_message_mergedocs</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES_Is_merge_success</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>mergeDocs.isSuccess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_MergedDoc</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_query_success</name>
        <label>Is merged contentVersion query success ?</label>
        <locationX>1172</locationX>
        <locationY>5612</locationY>
        <defaultConnector>
            <targetReference>Set_Err_Msg_CannotFindContentVersion</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES_Is_query_success</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_MergedDoc</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Records_3</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_retrieval_success</name>
        <label>Is retrieval success ?</label>
        <locationX>5593</locationX>
        <locationY>998</locationY>
        <defaultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES_RetrievalSuccess</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>getAgreementAndDocs_isSuccess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Count_document_selection</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_retrocession_or_cession</name>
        <label>Is retrocession or cession ?</label>
        <locationX>1799</locationX>
        <locationY>4880</locationY>
        <defaultConnector>
            <targetReference>Copy_2_of_add_to_contentVersionsToMerge</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES</name>
            <conditionLogic>(1 OR 2) AND 3</conditionLogic>
            <conditions>
                <leftValueReference>agreementRecordtype.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Retrocession</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>agreementRecordtype.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cession</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>parentAgreement_FinalContentVersion</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_add_to_contentVersionsToMerge</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Navigation</name>
        <label>Navigation</label>
        <locationX>3996</locationX>
        <locationY>2594</locationY>
        <defaultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Screen1_DocumentsSelection</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Previous</defaultConnectorLabel>
        <rules>
            <name>Next_SignerSelection</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>SignatoriesSelection_footer.selectedPrevious</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Count_Signatory_Selection</targetReference>
            </connector>
            <label>Next</label>
        </rules>
    </decisions>
    <decisions>
        <name>NavigationCheckSignatureReorderScreen</name>
        <label>Navigation</label>
        <locationX>3106</locationX>
        <locationY>3350</locationY>
        <defaultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Screen2_Signatories_Selection</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Previous</defaultConnectorLabel>
        <rules>
            <name>Next_CheckSignatureReorderScreen</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>SignatureReorderScreen_footer.selectedPrevious</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Insert_agreement_data</targetReference>
            </connector>
            <label>Next</label>
        </rules>
    </decisions>
    <decisions>
        <name>Selected_Next</name>
        <label>Selected Next ?</label>
        <locationX>5329</locationX>
        <locationY>1322</locationY>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YESSelected_Next</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>universign_FlowFooter_docscreen.selectedPrevious</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CountDocumentSelectioon</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Signers_found</name>
        <label>Signers found ?</label>
        <locationX>4267</locationX>
        <locationY>2378</locationY>
        <defaultConnector>
            <targetReference>Copy_2_of_Set_error_message</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES_SignerFound</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>countSignerList</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Screen2_Signatories_Selection</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>signers_selected</name>
        <label>signers selected ?</label>
        <locationX>3718</locationX>
        <locationY>2810</locationY>
        <defaultConnector>
            <targetReference>SetErrMsg_SignatorySelection</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES_SignatorySelected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>countSignatorySelection</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Init_Universign_Transaction</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <environments>Default</environments>
    <formulas>
        <name>DatenowPlus30Days</name>
        <dataType>Date</dataType>
        <expression>{!$Flow.CurrentDateTime} + 30</expression>
    </formulas>
    <formulas>
        <name>DocSelectionText_Calc</name>
        <dataType>String</dataType>
        <expression>IF({!CountDocumentSelection} != 1, &apos;Please select the document for signature&apos;, &apos;The document selected is the final version for signing&apos;)</expression>
    </formulas>
    <formulas>
        <name>ErrorMsg_NoDocumentsFound</name>
        <dataType>String</dataType>
        <expression>&quot;No documents found for this agreement üò¢, please generate a document before coming to this screen&quot;</expression>
    </formulas>
    <formulas>
        <name>ErrorMsg_RecordIdNotSet</name>
        <dataType>String</dataType>
        <expression>&quot;‚õîÔ∏è Technical Error: Record Id (of agreement) not set. Please contact your administrator for assistance&quot;</expression>
    </formulas>
    <formulas>
        <name>FlowStep1_Name</name>
        <dataType>String</dataType>
        <expression>&apos;1. Document(s) selection&apos;</expression>
    </formulas>
    <formulas>
        <name>FlowStep2_Name</name>
        <dataType>String</dataType>
        <expression>&apos;2. Signatories selection&apos;</expression>
    </formulas>
    <formulas>
        <name>FlowStep3_Name</name>
        <dataType>String</dataType>
        <expression>&apos;3. Signatories position&apos;</expression>
    </formulas>
    <formulas>
        <name>FlowStep4_Name</name>
        <dataType>String</dataType>
        <expression>&apos;4. Validation &amp; Send&apos;</expression>
    </formulas>
    <formulas>
        <name>InvitationMsgFormula</name>
        <dataType>String</dataType>
        <expression>{!UniversignTransaction.InvitationMessage__c} &amp; &quot; &quot; &amp; TEXT({!deadlineDate})</expression>
    </formulas>
    <formulas>
        <name>PageCount_Formula</name>
        <dataType>Number</dataType>
        <expression>IF(
    ({!countHeadSignerSelection} + {!countSignatorySelection}) &lt;= 4,
    {!countPdfPages_LWC.pageCount} + 1,
    IF(
        AND(({!countHeadSignerSelection} + {!countSignatorySelection}) &gt;= 5, ({!countHeadSignerSelection} + {!countSignatorySelection}) &lt;= 10),
        {!countPdfPages_LWC.pageCount} + 2,
        IF(
            AND(({!countHeadSignerSelection} + {!countSignatorySelection}) &gt;= 11, ({!countHeadSignerSelection} + {!countSignatorySelection}) &lt;= 15),
            {!countPdfPages_LWC.pageCount} + 3,
            /* Default value if none of the conditions are met */
            /* You can specify a default value here */
            0
        )
    )
)</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>SentForSignature_File_Name</name>
        <dataType>String</dataType>
        <expression>&apos;SentForSignature_&apos; &amp; {!selectedContentVersion.PathOnClient}</expression>
    </formulas>
    <formulas>
        <name>TotalPageCount_Formula</name>
        <dataType>Number</dataType>
        <expression>{!PageCount_Formula} + {!parentDoc_NumberOfPages}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>typeOfParentDocToGet</name>
        <dataType>String</dataType>
        <expression>CASE(
    {!agreementRecord.Apttus__Parent_Agreement__r.TECH_TemplateNumber__c},
    1, &apos;unsigned&apos;,
    2, &apos;unsigned&apos;,
    3, &apos;unsigned&apos;,
    4, &apos;unsigned&apos;,
    5, &apos;unsigned&apos;,
    6, &apos;unsigned&apos;,
    9, &apos;unsigned&apos;,
    10, &apos;unsigned&apos;,
    7, &apos;signed&apos;,
    8, &apos;signed&apos;,
    &apos;unknown&apos;
)</expression>
    </formulas>
    <formulas>
        <name>UniversignTransaction_Name_Calc</name>
        <dataType>String</dataType>
        <expression>&apos;Universign - &apos; &amp; {!agreementRecord.Name}</expression>
    </formulas>
    <interviewLabel>Universign - Signature process {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Universign - Signature process</label>
    <loops>
        <name>Loop_Documents_Selected</name>
        <label>Loop Documents Selected</label>
        <locationX>4800</locationX>
        <locationY>1646</locationY>
        <collectionReference>ContentVersionSelections.selectionList</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>SetSelectedDocument</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>CountNumberOfPagesScreen</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordDeletes>
        <name>Delete_signature_page_redundant</name>
        <label>Delete signature page (redundant because already merged)</label>
        <locationX>446</locationX>
        <locationY>5828</locationY>
        <connector>
            <targetReference>Set_list_contentversions_to_display_in_Pegdisplay</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>GenerateSignaturePageAction.docId</elementReference>
            </value>
        </filters>
        <object>ContentDocument</object>
    </recordDeletes>
    <recordLookups>
        <name>Get_current_univrersign_transaction_if_any</name>
        <label>Get current univrersign transaction (if any)</label>
        <locationX>6385</locationX>
        <locationY>242</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>found_any</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Agreement__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>ready</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Universign_Transaction__c</object>
        <sortField>CreatedDate</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_generated_contentversion</name>
        <label>Get SignaturePage contentversion</label>
        <locationX>2244</locationX>
        <locationY>4556</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>found_doc</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ContentDocumentId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>GenerateSignaturePageAction.docId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>ContentVersion</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>Title</queriedFields>
        <queriedFields>ContentDocumentId</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_MergedDoc</name>
        <label>Get MergedDoc</label>
        <locationX>1172</locationX>
        <locationY>5504</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_query_success</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ContentDocumentId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>mergeDocs.mergedDocId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>ContentVersion</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>Title</queriedFields>
        <queriedFields>ContentDocumentId</queriedFields>
        <queriedFields>FileType</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Copy_1_of_Set_universign_flag_for_contentversion</name>
        <label>Set title for Sent for Signature doc</label>
        <locationX>50</locationX>
        <locationY>6692</locationY>
        <connector>
            <targetReference>Copy_1_of_Validation_screen</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_Screen</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_MergedDoc.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Title</field>
            <value>
                <elementReference>SentForSignature_File_Name</elementReference>
            </value>
        </inputAssignments>
        <object>ContentVersion</object>
    </recordUpdates>
    <recordUpdates>
        <name>Set_pageCount_on_agreement</name>
        <label>Set pageCount on agreement</label>
        <locationX>2731</locationX>
        <locationY>4232</locationY>
        <connector>
            <targetReference>GenerateSignaturePageAction</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Universign_DocPageCount__c</field>
            <value>
                <elementReference>TotalPageCount_Formula</elementReference>
            </value>
        </inputAssignments>
        <object>Apttus__APTS_Agreement__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Records_3</name>
        <label>Set universign flag for contentversion</label>
        <locationX>446</locationX>
        <locationY>5720</locationY>
        <connector>
            <targetReference>Delete_signature_page_redundant</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_MergedDoc.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>isUniversignDocWithSignaturePage__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>ContentVersion</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_transaction</name>
        <label>Update transaction</label>
        <locationX>50</locationX>
        <locationY>6584</locationY>
        <connector>
            <targetReference>Copy_1_of_Set_universign_flag_for_contentversion</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </faultConnector>
        <inputReference>UniversignTransaction</inputReference>
    </recordUpdates>
    <runInMode>SystemModeWithoutSharing</runInMode>
    <screens>
        <description>To be used to generate last page attached to the document</description>
        <name>Copy_1_of_Count_Number_of_pages_in_doc</name>
        <label>Count Number of pages in parent doc ..</label>
        <locationX>2533</locationX>
        <locationY>3674</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Is_countParentDoc_success</targetReference>
        </connector>
        <fields>
            <name>Copy_1_of_Copy_2_of_sfpegPath_Screen1</name>
            <extensionName>c:sfpegFlowPathFlw</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>currentStep</name>
                <value>
                    <elementReference>FlowStep1_Name</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>steps</name>
                <value>
                    <elementReference>flowSteps</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>mode</name>
                <value>
                    <stringValue>path</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>Copy_1_of_Copy_1_of_firstSelectionTipMsg</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;Hang tight.. ‚ú®&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>countPdfPages_ParentDoc_LWC</name>
            <extensionName>c:universign_countPdfPages</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>contentDocumentId</name>
                <value>
                    <elementReference>parentAgreement_FinalContentVersion.ContentDocumentId</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Copy_1_of_Validation_screen</name>
        <label>Success screen üéâ</label>
        <locationX>50</locationX>
        <locationY>6800</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>Copy_1_of_Copy_1_of_Copy_1_of_Copy_1_of_sfpegPath_Screen1</name>
            <extensionName>c:sfpegFlowPathFlw</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>currentStep</name>
                <value>
                    <elementReference>FlowStep4_Name</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>steps</name>
                <value>
                    <elementReference>flowSteps</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>result</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;The documents have successfully been sent for signature üéâ&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-size: 16px;&quot;&gt;üéâüéâ&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <nextOrFinishButtonLabel>Close</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>To be used to generate last page attached to the document</description>
        <name>CountNumberOfPagesScreen</name>
        <label>Count Number of pages in doc ..</label>
        <locationX>4800</locationX>
        <locationY>1946</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Is_count_success</targetReference>
        </connector>
        <fields>
            <name>Copy_2_of_sfpegPath_Screen1</name>
            <extensionName>c:sfpegFlowPathFlw</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>currentStep</name>
                <value>
                    <elementReference>FlowStep1_Name</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>steps</name>
                <value>
                    <elementReference>flowSteps</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>mode</name>
                <value>
                    <stringValue>path</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>Copy_1_of_firstSelectionTipMsg</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;Hang tight.. ‚ú®&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>countPdfPages_LWC</name>
            <extensionName>c:universign_countPdfPages</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>contentDocumentId</name>
                <value>
                    <elementReference>selectedContentVersion.ContentDocumentId</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Error_Screen</name>
        <label>Error Screen ü§¢</label>
        <locationX>314</locationX>
        <locationY>6800</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>ErrorMessage</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;You have unfortunately reached the error screen üò≠:&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 16px; background-color: rgb(255, 255, 255); color: rgb(189, 3, 3);&quot;&gt;{!ScreenErrorMessage}&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 16px; background-color: rgb(255, 255, 255); color: rgb(255, 0, 0);&quot;&gt;{!$Flow.FaultMessage}&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 16px; background-color: rgb(255, 255, 255); color: rgb(255, 0, 0);&quot;&gt;{!NoSignerFound_ErrMsg}&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 16px; background-color: rgb(255, 255, 255); color: rgb(255, 0, 0);&quot;&gt;{!DocumentsNotSelectedErrorMsg}&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);&quot;&gt;please contact your administrator  for assistance if you believe this is a technical error&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Existing_transaction_screen</name>
        <label>Existing transaction screen</label>
        <locationX>6121</locationX>
        <locationY>458</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Clicked_Cancel</targetReference>
        </connector>
        <fields>
            <name>signatureInProgressMsg</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;‚ö†Ô∏è&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;A signature transaction is &lt;/span&gt;&lt;strong style=&quot;font-size: 16px; color: rgb(3, 37, 76);&quot;&gt;currently in progress&lt;/strong&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;. &lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;Do you want to &lt;/span&gt;&lt;strong style=&quot;font-size: 16px; color: rgb(255, 0, 0);&quot;&gt;cancel&lt;/strong&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt; it and restart another one ?&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>universignFooterExistingTransac</name>
            <extensionName>c:universign_FlowFooter</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>nextLabel</name>
                <value>
                    <stringValue>No</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>previousLabel</name>
                <value>
                    <stringValue>Yes, cancel and restart</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideRelaunchBtn</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Screen1_DocumentsSelection</name>
        <label>1 - Documents Selection</label>
        <locationX>5329</locationX>
        <locationY>1214</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Selected_Next</targetReference>
        </connector>
        <fields>
            <name>sfpegPath_Screen1</name>
            <extensionName>c:sfpegFlowPathFlw</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>currentStep</name>
                <value>
                    <elementReference>FlowStep1_Name</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>steps</name>
                <value>
                    <elementReference>flowSteps</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>mode</name>
                <value>
                    <stringValue>path</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>NeedHelpFirstScreenToggle</name>
            <extensionName>flowruntime:toggle</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Need a little help ? üôãüèª</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>messageToggleActive</name>
                <value>
                    <stringValue>Sure</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>messageToggleInactive</name>
                <value>
                    <stringValue>Nope I&apos;m good</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>firstSelectionTipMsg</name>
            <fieldText>&lt;ol&gt;&lt;li&gt;üí° The &lt;strong&gt;final&lt;/strong&gt; document has been &lt;strong&gt;pre-selected&lt;/strong&gt; for you&lt;/li&gt;&lt;li&gt;You can of course change the selection&lt;/li&gt;&lt;li&gt;Click &quot;Next&quot; to move on the next screen after your selection&lt;/li&gt;&lt;/ol&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>NeedHelpFirstScreenToggle.value</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>DocumentsNotSelectedError_Screen</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: rgb(255, 0, 0); font-size: 16px; background-color: rgb(255, 255, 255);&quot;&gt;{!DocumentsNotSelectedErrorMsg}&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>ContentVersionSelections</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>ContentVersion</typeValue>
            </dataTypeMappings>
            <extensionName>c:sfpegListMultiSelectorFlw</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>recordList</name>
                <value>
                    <elementReference>contentVersions</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cardIcon</name>
                <value>
                    <stringValue>doctype:pdf</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cardTitle</name>
                <value>
                    <elementReference>DocSelectionText_Calc</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>fieldSetName</name>
                <value>
                    <stringValue>ContentVersion.UniversignDocumentSelection</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>displayMode</name>
                <value>
                    <stringValue>table</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>preselectionList</name>
                <value>
                    <elementReference>latestContentVersion</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>searchHeight</name>
                <value>
                    <numberValue>300.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isSearchAuto</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isDebug</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showSearch</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showSelection</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showSort</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isSingleSelect</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>nameLabel</name>
                <value>
                    <stringValue>Title</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>nameField</name>
                <value>
                    <stringValue>Title</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>selectName</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tileSize</name>
                <value>
                    <numberValue>6.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideSelectAllBtn</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>RetrocessionDocMsg</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;üí° Note: {!agreementRecord.Apttus__Parent_Agreement__r.Name}&apos;s &lt;/span&gt;&lt;a href=&quot;/sfc/servlet.shepherd/version/download/{!parentAgreement_FinalContentVersion.Id}&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot; style=&quot;color: rgb(0, 0, 143); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;&lt;strong&gt;&lt;u&gt;checked-in (unsigned) document &lt;/u&gt;&lt;/strong&gt;&lt;/a&gt;&lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;will be (automatically) attached &lt;/span&gt;&lt;strong style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;at the end&lt;/strong&gt;&lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt; of the selected document before being sent for signature.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>typeOfParentDocToGet</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>unsigned</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>CessionDocMsg</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;üí° Note: {!agreementRecord.Apttus__Parent_Agreement__r.Name}&apos;s &lt;/span&gt;&lt;a href=&quot;/sfc/servlet.shepherd/version/download/{!parentAgreement_FinalContentVersion.Id}&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot; style=&quot;font-size: 14px; color: rgb(0, 0, 143);&quot;&gt;&lt;strong&gt;final (signed) document&lt;/strong&gt;&lt;/a&gt;&lt;span style=&quot;font-size: 14px; color: rgb(0, 0, 143);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;will be (automatically) attached &lt;/span&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;at the end&lt;/strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt; of the selected document before being sent for signature.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>typeOfParentDocToGet</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>signed</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>universign_FlowFooter_docscreen</name>
            <extensionName>c:universign_FlowFooter</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>disableRelaunchBtn</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideRelaunchBtn</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>nextLabel</name>
                <value>
                    <stringValue>Next</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>previousLabel</name>
                <value>
                    <stringValue>Cancel</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Screen2_Signatories_Selection</name>
        <label>2 - Signers &amp; observers selection</label>
        <locationX>3996</locationX>
        <locationY>2486</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Navigation</targetReference>
        </connector>
        <fields>
            <name>Copy_1_of_sfpegPath_Screen1</name>
            <extensionName>c:sfpegFlowPathFlw</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>currentStep</name>
                <value>
                    <elementReference>FlowStep2_Name</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>steps</name>
                <value>
                    <elementReference>flowSteps</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>Screen2_Signatories_Selection_Section1</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Screen2_Signatories_Selection_Section1_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>sfpegHeadSignersSelection</name>
                    <dataTypeMappings>
                        <typeName>T</typeName>
                        <typeValue>User</typeValue>
                    </dataTypeMappings>
                    <extensionName>c:sfpegListMultiSelectorFlw</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>recordList</name>
                        <value>
                            <elementReference>headSignerUsers</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cardIcon</name>
                        <value>
                            <stringValue>standard:avatar</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cardTitle</name>
                        <value>
                            <stringValue>Head signer(s) selection</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>defaultSortedBy</name>
                        <value>
                            <stringValue>Name</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>fieldSetName</name>
                        <value>
                            <stringValue>User.UniversignHeadSigner</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>displayMode</name>
                        <value>
                            <stringValue>tiles</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>preselectionList</name>
                        <value>
                            <elementReference>sfpegHeadSignersSelection.selectionList</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>searchHeight</name>
                        <value>
                            <numberValue>250.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>isSearchAuto</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>isDebug</name>
                        <value>
                            <booleanValue>false</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>showSearch</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>showSelection</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>showSort</name>
                        <value>
                            <booleanValue>false</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>isSingleSelect</name>
                        <value>
                            <booleanValue>false</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>tileSize</name>
                        <value>
                            <numberValue>12.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>selectName</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>nameField</name>
                        <value>
                            <stringValue>Name</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>nameLabel</name>
                        <value>
                            <stringValue>Name</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>hideSelectAllBtn</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>4</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Screen2_Signatories_Selection_Section1_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>SelectSignerErrMsg_Headr</name>
                    <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong style=&quot;font-size: 16px; color: rgb(179, 0, 0);&quot;&gt;{!SignatorySelectedErrMsg}&lt;/strong&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>SignatorySelectedErrMsg</leftValueReference>
                            <operator>NotEqualTo</operator>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>sfpegSignerSelection</name>
                    <dataTypeMappings>
                        <typeName>T</typeName>
                        <typeValue>Contact</typeValue>
                    </dataTypeMappings>
                    <extensionName>c:sfpegListMultiSelectorFlw</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>recordList</name>
                        <value>
                            <elementReference>lstSigners</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cardIcon</name>
                        <value>
                            <stringValue>standard:contact</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cardTitle</name>
                        <value>
                            <stringValue>Signer(s) selection</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>fieldSetName</name>
                        <value>
                            <stringValue>Contact.Universign_flow</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>displayMode</name>
                        <value>
                            <stringValue>tiles</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>hideSelectAllBtn</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>preselectionList</name>
                        <value>
                            <elementReference>sfpegSignerSelection.selectionList</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>searchHeight</name>
                        <value>
                            <numberValue>250.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>isSearchAuto</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>isDebug</name>
                        <value>
                            <booleanValue>false</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>showSearch</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>showSelection</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>showSort</name>
                        <value>
                            <booleanValue>false</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>isSingleSelect</name>
                        <value>
                            <booleanValue>false</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>nameField</name>
                        <value>
                            <stringValue>Name</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>selectName</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>tileSize</name>
                        <value>
                            <numberValue>12.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>nameLabel</name>
                        <value>
                            <stringValue>Name</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>4</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Screen2_Signatories_Selection_Section1_Column3</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>sfpegObserversSelection</name>
                    <dataTypeMappings>
                        <typeName>T</typeName>
                        <typeValue>Contact</typeValue>
                    </dataTypeMappings>
                    <extensionName>c:sfpegListMultiSelectorFlw</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>recordList</name>
                        <value>
                            <elementReference>lstObservers</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cardIcon</name>
                        <value>
                            <stringValue>standard:Contact</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cardTitle</name>
                        <value>
                            <stringValue>(Optional) observers selection</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>fieldSetName</name>
                        <value>
                            <stringValue>Contact.Universign_flow</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>displayMode</name>
                        <value>
                            <stringValue>tiles</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>hideSelectAllBtn</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>preselectionList</name>
                        <value>
                            <elementReference>sfpegObserversSelection.selectionList</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>searchHeight</name>
                        <value>
                            <numberValue>250.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>isSearchAuto</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>isDebug</name>
                        <value>
                            <booleanValue>false</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>showSearch</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>showSelection</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>showSort</name>
                        <value>
                            <booleanValue>false</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>isSingleSelect</name>
                        <value>
                            <booleanValue>false</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>tileSize</name>
                        <value>
                            <numberValue>12.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>selectName</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>nameField</name>
                        <value>
                            <stringValue>Name</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>nameLabel</name>
                        <value>
                            <stringValue>Name</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>countObserverList</leftValueReference>
                            <operator>GreaterThan</operator>
                            <rightValue>
                                <numberValue>0.0</numberValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>NoObserverDisplayHeaderText</name>
                    <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 18px; color: rgb(0, 119, 255);&quot;&gt;‚ö†Ô∏è&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(0, 119, 255);&quot;&gt; No observer found for the program {!agreementRecord.Name}&lt;/span&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>countObserverList</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <numberValue>0.0</numberValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>4</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <fields>
            <name>SelectedDocText</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;Selected document: {!selectedContentVersion.Title}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>SignatoriesSelection_footer</name>
            <extensionName>c:universign_FlowFooter</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>nextLabel</name>
                <value>
                    <stringValue>Next</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>previousLabel</name>
                <value>
                    <stringValue>Previous</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideRelaunchBtn</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>SignatureReorderScreen</name>
        <label>Signature reorder screen</label>
        <locationX>3106</locationX>
        <locationY>3242</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>NavigationCheckSignatureReorderScreen</targetReference>
        </connector>
        <fields>
            <name>Copy_2_of_Copy_1_of_Copy_1_of_Copy_1_of_sfpegPath_Screen1</name>
            <extensionName>c:sfpegFlowPathFlw</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>currentStep</name>
                <value>
                    <elementReference>FlowStep2_Name</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>steps</name>
                <value>
                    <elementReference>flowSteps</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>Copy_1_of_universignDragMsg</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Signers &amp;amp; observers selected for the transaction&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;üí° You can reorder them by dragging them&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Copy_1_of_universign_reorderSigner</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>Universign_signer__c</typeValue>
            </dataTypeMappings>
            <extensionName>c:universign_reorderSigner</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>items</name>
                <value>
                    <elementReference>universignSigners</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>universignSigners</assignToReference>
                <name>items</name>
            </outputParameters>
        </fields>
        <fields>
            <name>Copy_1_of_NoHeadSignerSelectedWarning</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;‚ùï‚ö†Ô∏è &lt;/span&gt;&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;You did not select any &lt;/span&gt;&lt;strong style=&quot;font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;head signers&lt;/strong&gt;&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt; to sign the document in the previous screen&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>countHeadSignerSelection</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <numberValue>0.0</numberValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Copy_1_of_NoObserverSelectedWarning</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;‚ùï‚ö†Ô∏è &lt;/span&gt;&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;You did not select any &lt;/span&gt;&lt;strong style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;observers&lt;/strong&gt;&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt; in the previous screen (This is not a blocking point though)&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>countObserverSelections</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <numberValue>0.0</numberValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>SignatureReorderScreen_footer</name>
            <extensionName>c:universign_FlowFooter</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>disableNext</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>disablePrevious</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideRelaunchBtn</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <nextOrFinishButtonLabel>Send for Signature üì§</nextOrFinishButtonLabel>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>ValidationScreen</name>
        <label>Validation screen</label>
        <locationX>446</locationX>
        <locationY>6044</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Set_Invitation_Message</targetReference>
        </connector>
        <fields>
            <name>Copy_1_of_Copy_1_of_Copy_1_of_sfpegPath_Screen1</name>
            <extensionName>c:sfpegFlowPathFlw</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>currentStep</name>
                <value>
                    <elementReference>FlowStep4_Name</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>steps</name>
                <value>
                    <elementReference>flowSteps</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>Copy_1_of_SignatorySelectionHeader</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;Please &lt;/span&gt;&lt;strong style=&quot;font-size: 16px; color: rgb(0, 0, 143);&quot;&gt;validate&lt;/strong&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt; everything before sending the signature&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>SignersDataTable</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>Universign_signer__c</typeValue>
            </dataTypeMappings>
            <extensionName>flowruntime:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Signers &amp; observers selected for the transaction</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>selectionMode</name>
                <value>
                    <stringValue>NO_SELECTION</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>minRowSelection</name>
                <value>
                    <numberValue>0.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>shouldDisplayLabel</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>universignSigners</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isShowSearchBar</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>maxRowSelection</name>
                <value>
                    <numberValue>0.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columns</name>
                <value>
                    <stringValue>[{&quot;apiName&quot;:&quot;Name&quot;,&quot;guid&quot;:&quot;column-2031&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:0,&quot;label&quot;:&quot;Universign signer Name&quot;,&quot;type&quot;:&quot;text&quot;},{&quot;apiName&quot;:&quot;CompanyName__c&quot;,&quot;guid&quot;:&quot;column-be1b&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:true,&quot;customHeaderLabel&quot;:&quot;Company&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:1,&quot;label&quot;:&quot;Company Name&quot;,&quot;type&quot;:&quot;text&quot;},{&quot;apiName&quot;:&quot;Email__c&quot;,&quot;guid&quot;:&quot;column-f811&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:true,&quot;customHeaderLabel&quot;:&quot;Email&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:2,&quot;label&quot;:&quot;Email&quot;,&quot;type&quot;:&quot;email&quot;},{&quot;apiName&quot;:&quot;Phone__c&quot;,&quot;guid&quot;:&quot;column-808a&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:true,&quot;customHeaderLabel&quot;:&quot;Mobile&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:3,&quot;label&quot;:&quot;Phone&quot;,&quot;type&quot;:&quot;phone&quot;}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>ValidationScreen_Section1</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>ValidationScreen_Section1_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>deadlineDate</name>
                    <dataType>Date</dataType>
                    <defaultValue>
                        <elementReference>DatenowPlus30Days</elementReference>
                    </defaultValue>
                    <fieldText>Indicate deadline for document signature</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>3</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>ValidationScreen_Section1_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>ContentVersionDisplay</name>
                    <dataTypeMappings>
                        <typeName>T</typeName>
                        <typeValue>ContentVersion</typeValue>
                    </dataTypeMappings>
                    <extensionName>c:sfpegRecordListFlw</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>recordList</name>
                        <value>
                            <elementReference>finalContentVersions</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>actionListStr</name>
                        <value>
                            <stringValue>[     {         &quot;label&quot;: &quot;View document&quot;,         &quot;name&quot;: &quot;openTarget&quot;,         &quot;iconName&quot;: &quot;utility:open&quot;,         &quot;variant&quot;: &quot;brand&quot;,         &quot;action&quot;: {             &quot;type&quot;: &quot;openURL&quot;,             &quot;params&quot;: {                 &quot;url&quot;: &quot;/sfc/servlet.shepherd/version/download/{{{Id}}}&quot;             }         }     } ]</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cardIcon</name>
                        <value>
                            <stringValue>doctype:pdf</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cardTitle</name>
                        <value>
                            <stringValue>Document(s) selected for signature</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>fieldSetName</name>
                        <value>
                            <stringValue>ContentVersion.UniversignDocumentSelection</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>displayMode</name>
                        <value>
                            <stringValue>tiles</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>listHeight</name>
                        <value>
                            <numberValue>300.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>isDebug</name>
                        <value>
                            <booleanValue>false</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>stackedDisplay</name>
                        <value>
                            <booleanValue>false</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>tileSize</name>
                        <value>
                            <numberValue>12.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>nameField</name>
                        <value>
                            <stringValue>Title</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>5</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>ValidationScreen_Section1_Column3</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>documentText1</name>
                    <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;üí° &lt;/strong&gt;&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;Your document to be sent for signature comprise of: &lt;/span&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <fields>
                    <name>clm_acceptation_universignDisplayImage</name>
                    <extensionName>flowruntime:image</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>imageName</name>
                        <value>
                            <stringValue>clm_acceptation_universign</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>agreementRecordtype.DeveloperName</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <stringValue>Acceptation</stringValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>clm_retrocession_universignDisplay</name>
                    <extensionName>flowruntime:image</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>imageName</name>
                        <value>
                            <stringValue>clm_retrocession_universign</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>typeOfParentDocToGet</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <stringValue>unsigned</stringValue>
                            </rightValue>
                        </conditions>
                        <conditions>
                            <leftValueReference>agreementRecord.IsCedingAgreement__c</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <booleanValue>false</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>clm_cession_universignDisplay</name>
                    <extensionName>flowruntime:image</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>imageName</name>
                        <value>
                            <stringValue>clm_cession_universign</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>typeOfParentDocToGet</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <stringValue>signed</stringValue>
                            </rightValue>
                        </conditions>
                        <conditions>
                            <leftValueReference>agreementRecord.IsCedingAgreement__c</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <booleanValue>false</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>documentText2</name>
                    <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 16px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;üôèüèª &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(221, 1, 1);&quot;&gt;Please click on &quot;&lt;/span&gt;&lt;strong style=&quot;background-color: rgb(255, 255, 255); color: rgb(221, 1, 1);&quot;&gt;View Document&quot;&lt;/strong&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(221, 1, 1);&quot;&gt; to ensure that everything is fine before sending for signature&lt;/span&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>4</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <fields>
            <name>NoHeadSignerSelectedWarning</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;‚ùï‚ö†Ô∏è &lt;/span&gt;&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;You did not select any &lt;/span&gt;&lt;strong style=&quot;font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;head signers&lt;/strong&gt;&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt; to sign the document in the previous screen&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>countHeadSignerSelection</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <numberValue>0.0</numberValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>NoObserverSelectedWarning</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;‚ùï‚ö†Ô∏è &lt;/span&gt;&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;You did not select any &lt;/span&gt;&lt;strong style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;observers&lt;/strong&gt;&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt; in the previous screen (This is not a blocking point though)&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>countObserverSelections</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <numberValue>0.0</numberValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>ShowAdvancedUniversignParameters</name>
            <extensionName>flowruntime:toggle</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Show advanced Universign parameters</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>messageToggleActive</name>
                <value>
                    <stringValue>Yes</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>disabled</name>
                <value>
                    <booleanValue>false</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>messageToggleInactive</name>
                <value>
                    <stringValue>No</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>agreementRecord.Id</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>xxdontshow</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>ValidationScreen_Section2</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>ValidationScreen_Section2_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <fieldType>ObjectProvided</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <objectFieldReference>UniversignTransaction.description__c</objectFieldReference>
                </fields>
                <fields>
                    <fieldType>ObjectProvided</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <objectFieldReference>UniversignTransaction.Language__c</objectFieldReference>
                </fields>
                <fields>
                    <fieldType>ObjectProvided</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <objectFieldReference>UniversignTransaction.chainingMode__c</objectFieldReference>
                </fields>
                <fields>
                    <fieldType>ObjectProvided</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <objectFieldReference>UniversignTransaction.mustContactFirstSigner__c</objectFieldReference>
                </fields>
                <fields>
                    <fieldType>ObjectProvided</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <objectFieldReference>UniversignTransaction.finalDocSent__c</objectFieldReference>
                </fields>
                <fields>
                    <fieldType>ObjectProvided</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <objectFieldReference>UniversignTransaction.finalDocRequesterSent__c</objectFieldReference>
                </fields>
                <fields>
                    <fieldType>ObjectProvided</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <objectFieldReference>UniversignTransaction.InvitationMessage__c</objectFieldReference>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>ValidationScreen_Section2_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <fieldType>ObjectProvided</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <objectFieldReference>UniversignTransaction.Profile__c</objectFieldReference>
                </fields>
                <fields>
                    <fieldType>ObjectProvided</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <objectFieldReference>UniversignTransaction.certificateType__c</objectFieldReference>
                </fields>
                <fields>
                    <fieldType>ObjectProvided</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <objectFieldReference>UniversignTransaction.SuccessURL__c</objectFieldReference>
                </fields>
                <fields>
                    <fieldType>ObjectProvided</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <objectFieldReference>UniversignTransaction.CancelURL__c</objectFieldReference>
                </fields>
                <fields>
                    <fieldType>ObjectProvided</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <objectFieldReference>UniversignTransaction.FailURL__c</objectFieldReference>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>ShowAdvancedUniversignParameters.value</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <nextOrFinishButtonLabel>Send for Signature üì§</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <start>
        <locationX>6259</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Init_steps</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>Get_Agreement_ContentVersions</name>
        <label>Get Agreement &amp; ContentVersions</label>
        <locationX>5593</locationX>
        <locationY>890</locationY>
        <connector>
            <targetReference>Is_retrieval_success</targetReference>
        </connector>
        <flowName>Universign_Subflow_Get_Agreement_Document_version_details</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>agreementRecord</assignToReference>
            <name>agreement</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>agreementRecordtype</assignToReference>
            <name>agreementRecordType</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>contentVersions</assignToReference>
            <name>contentVersions</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>ScreenErrorMessage</assignToReference>
            <name>errMsg</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>getAgreementAndDocs_isSuccess</assignToReference>
            <name>isSuccess</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>latestContentVersion</assignToReference>
            <name>latestContentVersion</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>parentAgreement_FinalContentVersion</assignToReference>
            <name>parentAgreement_FinalContentVersion</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Get_HeadSigners_Signers_and_Observers</name>
        <label>Get HeadSigners, Signers and Observers</label>
        <locationX>4534</locationX>
        <locationY>2162</locationY>
        <connector>
            <targetReference>Is_getting_signers_success</targetReference>
        </connector>
        <flowName>Universign_Subflow_Get_signers_head_signers_observers</flowName>
        <inputAssignments>
            <name>agreement</name>
            <value>
                <elementReference>agreementRecord</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>countHeadSignerList</assignToReference>
            <name>countHeadSignerList</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>countObserverList</assignToReference>
            <name>countObserverList</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>countSignerList</assignToReference>
            <name>countSignerList</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>ScreenErrorMessage</assignToReference>
            <name>errMsg</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>headSignerUsers</assignToReference>
            <name>headSignersUsers</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>isGetSignersSuccess</assignToReference>
            <name>isSuccess</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>lstObservers</assignToReference>
            <name>observers</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>lstSigners</assignToReference>
            <name>signers</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Initialise_Universign_Signers</name>
        <label>Initialise Signers, observers, agreement data</label>
        <locationX>3426</locationX>
        <locationY>3026</locationY>
        <connector>
            <targetReference>Is_init_signers_agreement_datas_sucess</targetReference>
        </connector>
        <flowName>Universign_Subflow_Initialiaze_Head_Signers</flowName>
        <inputAssignments>
            <name>agreement</name>
            <value>
                <elementReference>agreementRecord</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>agreementRecordtype</name>
            <value>
                <elementReference>agreementRecordtype</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>headSignerList</name>
            <value>
                <elementReference>sfpegHeadSignersSelection.selectionList</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>ObserverList</name>
            <value>
                <elementReference>sfpegObserversSelection.selectionList</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>SignerList</name>
            <value>
                <elementReference>sfpegSignerSelection.selectionList</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>universignTransaction</name>
            <value>
                <elementReference>UniversignTransaction</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>initSigner_ErrMsg</assignToReference>
            <name>ErrMsg</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>initsigner_isSuccess</assignToReference>
            <name>isSuccess</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>universignSigners</assignToReference>
            <name>lstUniversignSigners_Output</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>UniversignTransaction</assignToReference>
            <name>universignTransaction</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Insert_agreement_data</name>
        <label>Insert agreement data</label>
        <locationX>2731</locationX>
        <locationY>3458</locationY>
        <connector>
            <targetReference>Copy_1_of_Is_retrocession_or_cession</targetReference>
        </connector>
        <flowName>Universign_subflow_insert_agreement_data</flowName>
        <inputAssignments>
            <name>agreementId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>lstUniversignSigners</name>
            <value>
                <elementReference>universignSigners</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <textTemplates>
        <name>UniversignTextDescription</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>&lt;p&gt;AXA Ceded Re vous invite √† consulter des documents sur notre service de signature.&lt;/p&gt;&lt;p&gt;Nous attendons votre retour √† &lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255);&quot;&gt;{!DatenowPlus30Days}&lt;/span&gt;&lt;/p&gt;</text>
    </textTemplates>
    <variables>
        <name>agreementRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Apttus__APTS_Agreement__c</objectType>
    </variables>
    <variables>
        <name>agreementRecordtype</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>RecordType</objectType>
    </variables>
    <variables>
        <name>contentVersions</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ContentVersion</objectType>
    </variables>
    <variables>
        <name>contentVersionsToMerge</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ContentVersion</objectType>
    </variables>
    <variables>
        <name>CountDocumentSelection</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>countHeadSignerList</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>countHeadSignerSelection</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>countObserverList</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>countObserverSelections</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>countSignatorySelection</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>countSignerList</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>DocumentsNotSelectedErrorMsg</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>finalContentVersions</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ContentVersion</objectType>
    </variables>
    <variables>
        <name>flowSteps</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>getAgreementAndDocs_isSuccess</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>headSignerUsers</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>User</objectType>
    </variables>
    <variables>
        <name>initSigner_ErrMsg</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>initsigner_isSuccess</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>isGetSignersSuccess</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>latestContentVersion</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ContentVersion</objectType>
    </variables>
    <variables>
        <name>lstObservers</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Contact</objectType>
    </variables>
    <variables>
        <name>lstSigners</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Contact</objectType>
    </variables>
    <variables>
        <name>NoSignerFound_ErrMsg</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>observerContactIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>observers</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ContactReinsurerProgramRelation__c</objectType>
    </variables>
    <variables>
        <name>parentAgreement_FinalContentVersion</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ContentVersion</objectType>
    </variables>
    <variables>
        <name>parentDoc_NumberOfPages</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>ScreenErrorMessage</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>selectedContentVersion</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ContentVersion</objectType>
    </variables>
    <variables>
        <name>signatoryContactIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>SignatorySelectedErrMsg</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>signers</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ContactReinsurerProgramRelation__c</objectType>
    </variables>
    <variables>
        <name>universignSigners</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Universign_signer__c</objectType>
    </variables>
    <variables>
        <name>UniversignTransaction</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Universign_Transaction__c</objectType>
    </variables>
</Flow>
