<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>58.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>add_to_contentDocIdList</name>
        <label>add to contentDocIdList</label>
        <locationX>138</locationX>
        <locationY>2912</locationY>
        <assignmentItems>
            <assignToReference>ContentDocIdsToDel</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>For_each_CV_to_del.ContentDocumentId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>For_each_CV_to_del</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_to_ContentDocumentIds</name>
        <label>Add to ContentDocumentIds</label>
        <locationX>424</locationX>
        <locationY>1814</locationY>
        <assignmentItems>
            <assignToReference>contentDocumentIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Loop_ContentDocLink.ContentDocumentId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_ContentDocLink</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AddlatestContentVersion</name>
        <label>Add latestContentVersion</label>
        <locationX>270</locationX>
        <locationY>2330</locationY>
        <assignmentItems>
            <assignToReference>latestContentVersion</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Loop_ContentVersion</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>GetExistingContentV</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Copy_1_of_Set_err_Msg</name>
        <label>Copy 1 of Set err Msg</label>
        <locationX>1133</locationX>
        <locationY>890</locationY>
        <assignmentItems>
            <assignToReference>errMsg</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Getsigneddoc.errMsg</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Copy_1_of_Set_ErrMsg</name>
        <label>Set ErrMsg</label>
        <locationX>490</locationX>
        <locationY>2222</locationY>
        <assignmentItems>
            <assignToReference>errMsg</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>No PDF documents attached to this agreement was found. Ensure that your document(s) is visible in the &quot;Note &amp; attachment&quot; related list of your agreement</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Copy_1_of_Set_ErrMsg_isSuccess</name>
        <label>Set ErrMsg</label>
        <locationX>1573</locationX>
        <locationY>458</locationY>
        <assignmentItems>
            <assignToReference>errMsg</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>No agreement found for specified record Id</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Copy_1_of_Set_FinalContent</name>
        <label>Set FinalContent</label>
        <locationX>869</locationX>
        <locationY>890</locationY>
        <assignmentItems>
            <assignToReference>parentAgreement_FinalContentVersion</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Getsigneddoc.finalDocVersion</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Lead_Request</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Copy_2_of_Set_ErrMsg</name>
        <label>Set ErrMsg</label>
        <locationX>1018</locationX>
        <locationY>1490</locationY>
        <assignmentItems>
            <assignToReference>errMsg</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Program associated with the agreement should be at least on the Lead phase</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Set_err_Msg</name>
        <label>Set err Msg</label>
        <locationX>605</locationX>
        <locationY>890</locationY>
        <assignmentItems>
            <assignToReference>errMsg</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_FinalDoc_Unsigned.errMsg</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Set_ErrMsg_isSuccess</name>
        <label>Set ErrMsg</label>
        <locationX>1837</locationX>
        <locationY>242</locationY>
        <assignmentItems>
            <assignToReference>errMsg</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>RecordId (of Agreeement) not set. Please contact your administrator</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Set_FinalContent</name>
        <label>Set FinalContent</label>
        <locationX>341</locationX>
        <locationY>890</locationY>
        <assignmentItems>
            <assignToReference>parentAgreement_FinalContentVersion</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_FinalDoc_Unsigned.finalDocVersion</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Lead_Request</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_output_values</name>
        <label>Set output values</label>
        <locationX>182</locationX>
        <locationY>3296</locationY>
        <assignmentItems>
            <assignToReference>isSuccess</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>agreement</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Agreement</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>contentVersions</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_content_versions</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <decisions>
        <name>Check_agreementRecordtype</name>
        <label>Check agreementRecordtype</label>
        <locationX>781</locationX>
        <locationY>566</locationY>
        <defaultConnector>
            <targetReference>Get_Lead_Request</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default</defaultConnectorLabel>
        <rules>
            <name>Acceptation</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>agreementRecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Acceptation</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>agreementRecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>GlobalBroker</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Lead_Request</targetReference>
            </connector>
            <label>Acceptation/GB</label>
        </rules>
        <rules>
            <name>Retrocession</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>agreementRecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Retrocession</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>agreementRecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>GlobalBrokerCession</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_FinalDoc_Unsigned</targetReference>
            </connector>
            <label>Retrocession/GlobalBrokerRetro</label>
        </rules>
        <rules>
            <name>Cession</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>agreementRecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cession</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Getsigneddoc</targetReference>
            </connector>
            <label>Cession</label>
        </rules>
    </decisions>
    <decisions>
        <name>Copy_1_of_Is_success</name>
        <label>Copy 1 of Is success ?</label>
        <locationX>1001</locationX>
        <locationY>782</locationY>
        <defaultConnector>
            <targetReference>Copy_1_of_Set_err_Msg</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>Copy_1_of_YES</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Getsigneddoc.isSuccess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Set_FinalContent</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Found_ContentDocumentLinks</name>
        <label>Found ContentDocumentLinks ?</label>
        <locationX>545</locationX>
        <locationY>1598</locationY>
        <defaultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Copy_1_of_Set_ErrMsg</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_ContentDocumentLinks</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_ContentDocLink</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Found_docs</name>
        <label>Found docs ?</label>
        <locationX>182</locationX>
        <locationY>2696</locationY>
        <defaultConnector>
            <targetReference>Set_output_values</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES_Found_docs_to_Del</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetExistingContentV</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>For_each_CV_to_del</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Found_records</name>
        <label>Found records ?</label>
        <locationX>1177</locationX>
        <locationY>350</locationY>
        <defaultConnector>
            <targetReference>Copy_1_of_Set_ErrMsg_isSuccess</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES_FoundAgreement</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Agreement</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_agreement_recordtype</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Found_records_ContentVersions</name>
        <label>Found records ?</label>
        <locationX>336</locationX>
        <locationY>2114</locationY>
        <defaultConnector>
            <targetReference>Copy_1_of_Set_ErrMsg</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES_Found_records_ContentVersions</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_content_versions</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_ContentVersion</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_agreement_in_Signing</name>
        <label>Program passed lead request ?</label>
        <locationX>781</locationX>
        <locationY>1382</locationY>
        <defaultConnector>
            <targetReference>Copy_2_of_Set_ErrMsg</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES_AgreementInSigning</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Get_Lead_Request</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_ContentDocumentLinks</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_recordId_set</name>
        <label>Is recordId set ?</label>
        <locationX>1507</locationX>
        <locationY>134</locationY>
        <defaultConnector>
            <targetReference>Set_ErrMsg_isSuccess</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YES_recordIdSet</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Agreement</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_success</name>
        <label>Is success ?</label>
        <locationX>473</locationX>
        <locationY>782</locationY>
        <defaultConnector>
            <targetReference>Set_err_Msg</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NO</defaultConnectorLabel>
        <rules>
            <name>YESGet_FinalDoc_Unsignedsuccess</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_FinalDoc_Unsigned.isSuccess</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_FinalContent</targetReference>
            </connector>
            <label>YES</label>
        </rules>
    </decisions>
    <description>Used in the main the flow &quot;UniverSign - Signature process&quot; 
To get agreement record, document version details associated to the agreement and to perform certain checks before moving forward with the flow</description>
    <environments>Default</environments>
    <interviewLabel>Universign - Subflow - Get Agreement &amp; Document version details {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Universign - Subflow - Get Agreement &amp; Content versions</label>
    <loops>
        <name>For_each_CV_to_del</name>
        <label>For each CV to del</label>
        <locationX>50</locationX>
        <locationY>2804</locationY>
        <collectionReference>GetExistingContentV</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>add_to_contentDocIdList</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Delete_them</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_ContentDocLink</name>
        <label>Loop in ContentDocumentLinks</label>
        <locationX>336</locationX>
        <locationY>1706</locationY>
        <collectionReference>Get_ContentDocumentLinks</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_to_ContentDocumentIds</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_content_versions</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_ContentVersion</name>
        <label>Loop ContentVersion</label>
        <locationX>182</locationX>
        <locationY>2222</locationY>
        <collectionReference>Get_content_versions</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>AddlatestContentVersion</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>GetExistingContentV</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordDeletes>
        <name>Delete_them</name>
        <label>Delete them</label>
        <locationX>50</locationX>
        <locationY>3104</locationY>
        <connector>
            <targetReference>Set_output_values</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>ContentDocIdsToDel</elementReference>
            </value>
        </filters>
        <object>ContentDocument</object>
    </recordDeletes>
    <recordLookups>
        <name>Get_Agreement</name>
        <label>Get Agreement</label>
        <locationX>1177</locationX>
        <locationY>242</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Found_records</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Apttus__APTS_Agreement__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_agreement_recordtype</name>
        <label>Get agreement recordtype</label>
        <locationX>781</locationX>
        <locationY>458</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_agreementRecordtype</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Agreement.RecordTypeId</elementReference>
            </value>
        </filters>
        <object>RecordType</object>
        <outputReference>agreementRecordType</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>DeveloperName</queriedFields>
        <queriedFields>Name</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_content_versions</name>
        <label>Get content versions</label>
        <locationX>336</locationX>
        <locationY>2006</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Found_records_ContentVersions</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ContentDocumentId</field>
            <operator>In</operator>
            <value>
                <elementReference>contentDocumentIds</elementReference>
            </value>
        </filters>
        <filters>
            <field>FileType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>PDF</stringValue>
            </value>
        </filters>
        <filters>
            <field>UniversignSignedDoc__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>isUniversignDocWithSignaturePage__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>ContentVersion</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>Title</queriedFields>
        <queriedFields>FileType</queriedFields>
        <queriedFields>ContentDocumentId</queriedFields>
        <queriedFields>CreatedDate</queriedFields>
        <queriedFields>PathOnClient</queriedFields>
        <sortField>CreatedDate</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_ContentDocumentLinks</name>
        <label>Get ContentDocumentLinks</label>
        <locationX>545</locationX>
        <locationY>1490</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Found_ContentDocumentLinks</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>LinkedEntityId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Agreement.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>ContentDocumentLink</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Lead_Request</name>
        <label>Get Lead Request</label>
        <locationX>781</locationX>
        <locationY>1274</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_agreement_in_Signing</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Program__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Agreement.Program__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>TECH_RecordType__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Lead</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Request__c</object>
        <queriedFields>Id</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>GetExistingContentV</name>
        <label>Get already prepared universign docs</label>
        <locationX>182</locationX>
        <locationY>2588</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Found_docs</targetReference>
        </connector>
        <filterLogic>(1 OR 2) AND 3</filterLogic>
        <filters>
            <field>isUniversignDocWithSignaturePage__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Title</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Universign Last Page</stringValue>
            </value>
        </filters>
        <filters>
            <field>ContentDocumentId</field>
            <operator>In</operator>
            <value>
                <elementReference>contentDocumentIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>ContentVersion</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>ContentDocumentId</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <runInMode>SystemModeWithoutSharing</runInMode>
    <start>
        <locationX>1381</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Is_recordId_set</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>Get_FinalDoc_Unsigned</name>
        <label>Get FinalDoc Unsigned</label>
        <locationX>473</locationX>
        <locationY>674</locationY>
        <connector>
            <targetReference>Is_success</targetReference>
        </connector>
        <flowName>CLM_Retrocession_Get_FinalContentDoc_Of_ParentAgreement</flowName>
        <inputAssignments>
            <name>agreement</name>
            <value>
                <elementReference>Get_Agreement</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>agreementId</name>
            <value>
                <elementReference>Get_Agreement.Apttus__Parent_Agreement__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>childAgreementRecordType</name>
            <value>
                <elementReference>agreementRecordType.DeveloperName</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Getsigneddoc</name>
        <label>Get signed doc</label>
        <locationX>1001</locationX>
        <locationY>674</locationY>
        <connector>
            <targetReference>Copy_1_of_Is_success</targetReference>
        </connector>
        <flowName>CLM_Retrocession_Get_FinalContentDoc_Of_ParentAgreement</flowName>
        <inputAssignments>
            <name>agreement</name>
            <value>
                <elementReference>Get_Agreement</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>agreementId</name>
            <value>
                <elementReference>Get_Agreement.Apttus__Parent_Agreement__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>childAgreementRecordType</name>
            <value>
                <elementReference>agreementRecordType.DeveloperName</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <variables>
        <name>agreement</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>Apttus__APTS_Agreement__c</objectType>
    </variables>
    <variables>
        <name>agreementRecordType</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>RecordType</objectType>
    </variables>
    <variables>
        <name>ContentDocIdsToDel</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>contentDocumentIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>contentVersions</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>ContentVersion</objectType>
    </variables>
    <variables>
        <name>errMsg</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>isSuccess</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>latestContentVersion</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>ContentVersion</objectType>
    </variables>
    <variables>
        <name>parentAgreement_FinalContentVersion</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>ContentVersion</objectType>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
